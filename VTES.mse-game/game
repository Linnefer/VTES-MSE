mse version: 2.0.0
full name: VTES
short name: VTES
icon: card-back.png
position hint: 3
version: 2024-09-29





############################################################## Functions & filters
	
# General functions
init script:
	

	############### Sorting
	extensive_sort := {card.name}
	############### Determine Card Position
	pos_of_card := {
		position(
			of: card
			in: set
			order_by: { extensive_sort() }
			) + 1
	}

	############################################################## Other boxes

	definelayout := {
		card.cardtype
		if	contains(card.cardtype, match: "Library") then "library"
		else 	"crypt"
	}

	type_default := {
		"Crypt Abomination"
	}
	
	strip_name := {
		replace(replace(to_lower(card.name), match: ",", replace: "-"), match: "( |')", replace: "")
	}

	trim_type := {
		card.cardtype
		replace(card.cardtype, match: "(Crypt|Library) ", replace: "")
	}


############################################################## Set fields
	
set field:
	type: info
	name: Set Information
set field:
	type: text
	name: title
	identifying: true
set field:
	type: text
	name: description
	multi line: true
set field:
	type: text
	name: set_code
	description: Typically, a four letter code for the set.
set field:
	type: symbol
	name: symbol
	description: The symbol for this set, double click to edit

default set style:
	symbol:
		max aspect ratio: 2.5
		variation:
			name: common
			border radius: 0
			fill type: solid
			fill color:   rgb(255,255,255)
			border color: rgb(0,0,0)


############################################################## Card fields



############################# Name line

card field:
	type: text
	name: filename
	show statistics: false
	editable: false
	card list visible: false
	description: used for creating image files
	default: to_text(strip_name(card.name))

card field:
	type: text
	name: name
	identifying: true
	show statistics: false
	card list visible: true
	script: card.name
	card list column: 1


############################### Card sorting / numbering

card field:
	type: text
	name: number
	save value: false
	script: 
		if 	pos_of_card()<=9 then "#00" + pos_of_card(value)
		else if	pos_of_card()>=9 and pos_of_card()<=99 then "#0" + pos_of_card(value)
		else	"#" + pos_of_card(value)
	card list visible: true
	card list column: 2
	card list width: 55
	card list name: #
	card list alignment: right
	editable: false
	show statistics: false

############################# Image
card field:
	type: image
	name: image
	show statistics: false

############################# Type and layout
card field:
	type: text
	name: type
	show statistics: true
	card list visible: true
	default: trim_type()
	editable: false
	save value: false
	card list column: 3
	description: The type of this card
	## Only used for card list.

card field:
	type: text
	name: layout
	card list visible: false
	default: definelayout()
	editable: false
	save value: false
	show statistics: false
	## Used in Style to define which boxes are where


card field:
	type: choice
	name: cardtype
	choice:
		name: Crypt
		choice: Abomination
		choice: Ahrimane
		choice: Akunanse
		choice: Assamite
		choice: Baali
		choice: Blood Brother
		choice: Brujah
		choice: Brujah Antitribu
		choice: Caitiff
		choice: Daughter of Cacophony
		choice: Follower of Set
		choice: Gangrel
		choice: Gangrel Antitribu
		choice: Gargoyle
		choice: Giovanni
		choice: Guruhi
		choice: Harbinger of Skulls
		choice: Kiasyd
		choice: Lasombra
		choice: Malkavian
		choice: Malkavian Antitribu
		choice: Nagaraja
		choice: Nosferatu
		choice: Nosferatu Antitribu
		choice: Osebo
		choice: Pander
		choice: Ravnos
		choice: Salubri
		choice: Salubri Antitribu
		choice: Samedi
		choice: Toreador
		choice: Toreador Antitribu
		choice: Tremere
		choice: Tremere Antitribu
		choice: True Brujah
		choice: Tzimisce
		choice: Ventrue
		choice: Ventrue Antitribu
	choice: 
		name: Library
		choice:	Action
		choice:	Action Modifier
		choice:	Ally
		choice: Combat
		choice: Equipment
		choice: Master
		choice: Political Action
		choice: Reaction
		choice: Retainer

	default: type_default()
	show statistics: false

############################# Artist
card field:
	type: text
	name: artist
	show statistics: false
	card list visible: false
	description: The artist of this card


card field:
	type: text
	name: copyrighttext
	save value: false
	script: "NOT FOR LEGAL PLAY"
	editable: false
	show statistics: false

############################# Text box
card field:
	type: text
	name: rule text
	show statistics: false
	multi line: true

############################ Set box
card field:
	type: choice
	name: setsymbol
	editable: false
	choice: common
	initial: common
	description: enables custom set symbol



